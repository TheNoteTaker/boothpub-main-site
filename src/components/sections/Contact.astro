---
import { Icon } from '@/components/ui/Icon';
import { Image } from 'astro:assets';
import { optimizeImage } from '@/utils/images';

const contactImage = await optimizeImage({
  src: "https://images.unsplash.com/photo-1511795409834-ef04bbd61622",
  alt: "Happy guests enjoying our photo booth services at an event",
  width: 1200,
  height: 900,
  format: 'webp',
  quality: 85
});
---

<section id="contact" class="relative overflow-hidden bg-[#2F505F] py-16 sm:py-24">
  <div class="absolute inset-0 bg-[url('data:image/svg+xml,...')] opacity-5"></div>
  
  <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 gap-x-16 gap-y-12 lg:grid-cols-2">
      <!-- Left Content -->
      <div>
        <div class="relative">
          <div class="inline-flex mb-4 items-center rounded-full bg-[#F9CC9A]/10 px-4 py-1">
            <Icon
              name="Mail"
              className="mr-2 h-4 w-4 text-[#F9CC9A]"
              client:load
            />
            <span class="text-sm font-medium text-[#F9CC9A]">Get in Touch</span>
          </div>
          <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
            Let's Create Something Amazing Together
          </h2>
          <p class="mt-4 text-lg text-gray-300">
            Ready to make your event unforgettable? Fill out the form below and we'll get back to you within 24 hours.
          </p>
        </div>

        <div class="mt-8 space-y-6">
          <div class="flex items-center gap-x-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-[#D75E1F]">
              <Icon name="Phone" className="h-6 w-6 text-white" client:load />
            </div>
            <div>
              <h3 class="text-base font-semibold text-white">Phone</h3>
              <p class="mt-1 text-gray-300">(555) 123-4567</p>
            </div>
          </div>

          <div class="flex items-center gap-x-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-[#D75E1F]">
              <Icon name="Mail" className="h-6 w-6 text-white" client:load />
            </div>
            <div>
              <h3 class="text-base font-semibold text-white">Email</h3>
              <p class="mt-1 text-gray-300">hello@boothpub.com</p>
            </div>
          </div>

          <div class="flex items-center gap-x-4">
            <div class="flex h-12 w-12 items-center justify-center rounded-xl bg-[#D75E1F]">
              <Icon name="MapPin" className="h-6 w-6 text-white" client:load />
            </div>
            <div>
              <h3 class="text-base font-semibold text-white">Location</h3>
              <p class="mt-1 text-gray-300">Los Angeles, CA</p>
            </div>
          </div>
        </div>

        <div class="mt-8">
          <Image
            src={contactImage.src}
            width={contactImage.attributes.width}
            height={contactImage.attributes.height}
            alt={contactImage.attributes.alt}
            class="rounded-xl object-cover"
          />
        </div>
      </div>

      <!-- Right Form -->
      <div class="relative">
        <div class="overflow-hidden rounded-2xl bg-white p-8 shadow-lg">
          <form id="contact-form" class="space-y-6">
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
              <div>
                <label for="firstName" class="block text-sm font-medium text-gray-700">
                  First Name
                </label>
                <input
                  type="text"
                  name="firstName"
                  id="firstName"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                  required
                />
              </div>
              <div>
                <label for="lastName" class="block text-sm font-medium text-gray-700">
                  Last Name
                </label>
                <input
                  type="text"
                  name="lastName"
                  id="lastName"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                  required
                />
              </div>
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-gray-700">
                Email
              </label>
              <input
                type="email"
                name="email"
                id="email"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                required
              />
            </div>

            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700">
                Phone
              </label>
              <input
                type="tel"
                name="phone"
                id="phone"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                required
              />
            </div>

            <div>
              <label for="eventDate" class="block text-sm font-medium text-gray-700">
                Event Date
              </label>
              <input
                type="date"
                name="eventDate"
                id="eventDate"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                required
              />
            </div>

            <div>
              <label for="package" class="block text-sm font-medium text-gray-700">
                Interested Package
              </label>
              <select
                id="package"
                name="package"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                required
              >
                <option value="">Select a package</option>
                <option value="photobooth-only">Photo Booth Basic</option>
                <option value="photobooth-soda">Photo + Soda Bar</option>
                <option value="photobooth-bartender">Premium Package</option>
              </select>
            </div>

            <div>
              <label for="message" class="block text-sm font-medium text-gray-700">
                Message
              </label>
              <textarea
                id="message"
                name="message"
                rows="4"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#D75E1F] focus:ring-[#D75E1F]"
                required
              ></textarea>
            </div>

            <div>
              <button
                type="submit"
                class="w-full rounded-lg bg-[#D75E1F] px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-[#2F505F] focus:outline-none focus:ring-2 focus:ring-[#D75E1F] focus:ring-offset-2 transition-all duration-300"
              >
                Send Message
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  
  form?.addEventListener('submit', (e) => {
    e.preventDefault();
    const formData = new FormData(form);
    
    // For now, just clear the form and show an alert
    form.reset();
    alert('Thank you for your message! We will get back to you soon.');
  });
</script>